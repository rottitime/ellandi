{% extends "base.html" %}

{% macro input(form, name, label, type) -%}
  <div class="input-field error">
    <input type="{{type}}" class="{{form[name].errors and 'invalid'}}" value="{{form[name].value() or ''}}" id="{{name}}" name="{{name}}">
    <label for="{{name}}">{{label}}</label>
    {% for error in form[name].errors %}
      <span class="helper-text" data-error="{{error}}" data-success="right" />
    {% endfor %}
  </div>
{%- endmacro %}

{% block content %}

  <main class="card-panel">

    <header>
      <h1>Create an account</h1>
    </header>

    <p class="subtitle">You need to create an account before using this service</p>

    <form method="POST">
      {{csrf_input}}
      <h4>Enter your email address</h4>
      <div class="row">
        <div class="input-field">
          <input type="email" class="validate" id="email" name="email">
          <label for="email">Email address</label>
        </div>
      </div>

      <div class="row">
        {{input(form, 'email_confirm', 'Confirm your email address', 'email')}}
      </div>

      <h4>Create a password</h4>
      <p>Your password should have at least 8 characters and not include your name or email address</p>

      <div class="row">
        <div class="input-field ">
          <input  type="password" class="validate" id="password" name="password">
          <label for="password">Password</label>
        </div>
      </div>

      <div class="row">
        <div class="input-field ">
          <input  type="password" class="validate" id="password_confirm" name="password_confirm">
          <label for="password_confirm">Confirm your password</label>
        </div>
      </div>

      <div class="buttons">

        <button class="btn waves-effect waves-light" type="submit" name="action">
          Continue
        </button>
      </div>

    </form>

  </main>
{% endblock content %}
